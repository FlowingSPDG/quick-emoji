(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{826:(e,s,t)=>{"use strict";t.d(s,{U4:()=>i,cd:()=>l,gC:()=>a});let i=e=>e.length>0&&e.every(e=>["github","slack","discord","unicode"].includes(e)),a=e=>["easy","medium","hard","all"].includes(e),r={get:(e,s)=>{try{let t=window.localStorage.getItem(e);return t?JSON.parse(t):s}catch(e){return s}},set:(e,s)=>{try{window.localStorage.setItem(e,JSON.stringify(s))}catch(e){}},remove:e=>{try{window.localStorage.removeItem(e)}catch(e){}}},l={saveSettings:e=>r.set("game-settings",e),getSettings:()=>r.get("game-settings",null),saveSession:e=>r.set("current-session",e),getSession:()=>r.get("current-session",null),clearSession:()=>r.remove("current-session")}},3072:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var i=t(4568),a=t(7620),r=t(7541),l=t(9664),n=t.n(l),c=t(3954),m=t(826);function o(){let e=(0,r.useRouter)(),[s,t]=(0,a.useState)(c.a$),[l,o]=(0,a.useState)(!1),[u,d]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=m.cd.getSettings();e&&t(e)},[]);let h=async()=>{if(!(0,m.U4)(s.platforms))return void d("少なくとも1つのプラットフォームを選択してください。");if(!(0,m.gC)(s.difficulty))return void d("無効な難易度が選択されています。");d(null),o(!0);try{m.cd.saveSettings(s),e.push("/game")}catch(e){d("設定の保存に失敗しました。")}finally{o(!1)}};return(0,i.jsxs)("div",{className:"card",style:{maxWidth:"600px",margin:"0 auto"},children:[(0,i.jsx)("h1",{style:{textAlign:"center",marginBottom:"2rem"},children:"ゲーム設定"}),u&&(0,i.jsx)("div",{className:"error",style:{marginBottom:"1rem"},children:u}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"プラットフォーム"}),(0,i.jsx)("p",{style:{fontSize:"0.9rem",color:"var(--text-color)",marginBottom:"1rem"},children:"絵文字の略称（shortcode）のソースとなるプラットフォームを選択してください。"}),(0,i.jsx)("div",{className:"checkbox-group",children:Object.keys(c.YN).map(e=>(0,i.jsxs)("label",{className:"checkbox-item",children:[(0,i.jsx)("input",{type:"checkbox",checked:s.platforms.includes(e),onChange:s=>{var i;return i=s.target.checked,void t(s=>({...s,platforms:i?[...s.platforms,e]:s.platforms.filter(s=>s!==e)}))}}),(0,i.jsx)("span",{children:c.YN[e]})]},e))})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"難易度"}),(0,i.jsx)("div",{className:"radio-group",children:Object.keys(c.My).map(e=>(0,i.jsxs)("label",{className:"radio-item",children:[(0,i.jsx)("input",{type:"radio",name:"difficulty",value:e,checked:s.difficulty===e,onChange:e=>{var s;return s=e.target.value,void t(e=>({...e,difficulty:s}))}}),(0,i.jsx)("span",{children:c.My[e]})]},e))})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsxs)("label",{className:"form-label",children:["問題数: ",s.questionCount,"問"]}),(0,i.jsxs)("div",{className:"slider-container",children:[(0,i.jsx)("input",{type:"range",min:c.a$.minQuestionCount,max:c.a$.maxQuestionCount,value:s.questionCount,onChange:e=>{var s;return s=parseInt(e.target.value),void t(e=>({...e,questionCount:s}))},className:"slider"}),(0,i.jsxs)("div",{className:"slider-value",children:[c.a$.minQuestionCount," - ",c.a$.maxQuestionCount," 問"]})]})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsxs)("label",{className:"form-label",children:["制限時間: ",s.timeLimit,"秒"]}),(0,i.jsxs)("div",{className:"slider-container",children:[(0,i.jsx)("input",{type:"range",min:c.a$.minTimeLimit,max:c.a$.maxTimeLimit,value:s.timeLimit,onChange:e=>{var s;return s=parseInt(e.target.value),void t(e=>({...e,timeLimit:s}))},className:"slider"}),(0,i.jsxs)("div",{className:"slider-value",children:[c.a$.minTimeLimit," - ",c.a$.maxTimeLimit," 秒"]})]})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"2rem"},children:[(0,i.jsx)("button",{className:"btn btn-primary",onClick:h,disabled:l,style:{flex:1,maxWidth:"200px"},children:l?"読み込み中...":"ゲーム開始"}),(0,i.jsx)(n(),{href:"/",className:"btn btn-secondary",style:{flex:1,maxWidth:"200px"},children:"戻る"})]})]})}},3954:(e,s,t)=>{"use strict";t.d(s,{a$:()=>r,My:()=>a,YN:()=>i});let i={github:"GitHub",slack:"Slack",discord:"Discord",unicode:"Unicode Official"},a={easy:"Easy",medium:"Medium",hard:"Hard",all:"All"},r={platforms:["github","slack"],difficulty:"all",timeLimit:30,questionCount:10,minQuestionCount:5,maxQuestionCount:50,minTimeLimit:15,maxTimeLimit:60}},7541:(e,s,t)=>{"use strict";var i=t(3041);t.o(i,"useRouter")&&t.d(s,{useRouter:function(){return i.useRouter}}),t.o(i,"useSearchParams")&&t.d(s,{useSearchParams:function(){return i.useSearchParams}})},9149:(e,s,t)=>{Promise.resolve().then(t.bind(t,3072))}},e=>{e.O(0,[664,587,18,358],()=>e(e.s=9149)),_N_E=e.O()}]);