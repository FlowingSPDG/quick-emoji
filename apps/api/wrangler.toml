name = "quick-emoji-api"
main = "src/index.ts"
compatibility_date = "2024-01-20"

# KV Namespaces - IDs are provided via environment variables from GitHub Secrets
kv_namespaces = [
  { binding = "EMOJI_DATA", id = "${EMOJI_DATA_ID}" }
]

# Durable Objects
[[durable_objects.bindings]]
name = "GAME_ROOM"
class_name = "GameRoom"
script_name = "quick-emoji-api"

# Durable Objects migrations (for deployment)
[[migrations]]
tag = "v1"
new_classes = ["GameRoom"]

# Environment variables (if needed)
[vars]
NODE_ENV = "production"

# Preview environments are deployed with --name flag to create unique service names
# Example: wrangler deploy --name quick-emoji-api-preview-1
# This avoids the need for dynamic environment sections in wrangler.toml